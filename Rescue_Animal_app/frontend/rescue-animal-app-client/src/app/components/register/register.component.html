<div>
  <!-- Container for the home button of the registration form -->
  <div class="home-button-container">
    <button class="home-button" (click)="navigateToHome()">Home</button>
  </div>
  <!-- Container for the title of the registration form -->
  <div class="title-container">
    <h1>Register</h1>
  </div>

  <!-- Generic error message -->
  <div *ngIf="showErrorMessage" class="error-message">
    <p>Please fill out all required fields correctly.</p>
  </div>

  <!-- Registration form with Angular's reactive form group -->
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <!-- Username field with validation messages -->
    <label for="username">Username</label>
    <input id="username" formControlName="username" type="text" />
    <div *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
      <!-- Display if username is not provided -->
      <small *ngIf="registerForm.get('username')?.errors?.['required']">Username is required.</small>
    </div>

    <!-- Email field with validation for format and presence -->
    <label for="email">Email</label>
    <input id="email" formControlName="email" type="email" />
    <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
      <!-- Display if email is not provided or format is invalid -->
      <small *ngIf="registerForm.get('email')?.errors?.['required']">Email is required.</small>
      <small *ngIf="registerForm.get('email')?.errors?.['email']">Invalid email format.</small>
    </div>

    <!-- Password field with validation for presence and length -->
    <label for="password">Password</label>
    <input id="password" formControlName="password" type="password" />
    <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
      <!-- Display if password is missing or too short -->
      <small *ngIf="registerForm.get('password')?.errors?.['required']">Password is required.</small>
      <small *ngIf="registerForm.get('password')?.errors?.['minlength']">
        Password must be at least 6 characters long.
      </small>
    </div>

    <!-- Confirm Password field with custom validation for matching passwords -->
    <label for="confirmPassword">Confirm Password</label>
    <input id="confirmPassword" formControlName="confirmPassword" type="password" />
    <div *ngIf="registerForm.hasError('passwordMismatch') && registerForm.touched">
      <!-- Display if passwords do not match -->
      <small>Passwords do not match.</small>
    </div>

    <!-- Instruction for using the registration code -->
    <small class="note">
      Use registration code provided by Admin. If you did not receive a registration code, contact your Admin.
    </small>

    <!-- Registration code field with validation for presence and correctness -->
    <label for="registrationCode">Registration Code</label>
    <input id="registrationCode" formControlName="registrationCode" type="text" />
    <div *ngIf="registerForm.get('registrationCode')?.invalid && registerForm.get('registrationCode')?.touched">
      <!-- Display if registration code is missing or invalid -->
      <small *ngIf="registerForm.get('registrationCode')?.errors?.['required']">Registration code is required.</small>
      <small *ngIf="registerForm.get('registrationCode')?.errors?.['codeMismatch']">
        Invalid registration code.
      </small>
    </div>

    <!-- Submit button, disabled if the form is invalid -->
    <button type="submit">Register</button>
  </form>
</div>